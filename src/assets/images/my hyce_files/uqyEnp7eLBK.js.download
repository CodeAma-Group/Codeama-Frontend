if (self.CavalryLogger) { CavalryLogger.start_js(["+PRLBwX"]); }

__d("GroupsCometPollEditor_group$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometPollEditor_group$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("GroupsCometPollEditor_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometPollEditor_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("GroupsCometComposerQuiltSprout_sprout$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"GroupsCometComposerQuiltSprout_sprout$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("GroupsCometComposerQuiltSprout_sprout.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometComposerQuiltSprout_sprout",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"GroupCometComposerQuiltSprout",abstractKey:null};e.exports=a}),null);
__d("CometComposerQuiltSprout_sprout$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometComposerQuiltSprout_sprout$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("CometComposerQuiltSprout_sprout.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometComposerQuiltSprout_sprout",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CometComposerQuiltSprout",abstractKey:null};e.exports=a}),null);
__d("CometMediaPollOptionCard.react",["CometAspectRatioContainer.react","CometCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm cxgpxx05",children:h.jsx(c("CometCard.react"),{border:"inset",children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("pollConfig",["MediaPollsConfig","TetraTextTypography","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";e=2;f=2;var h=c("MediaPollsConfig").NUM_ROWS_TO_DISPLAY_MINIMIZED*e,i=(100/e).toFixed()+"%",j="max("+i+", 230px)",k="min("+i+", 318px)",l="white",m=700,n=3,o=140,p=["image/bmp","image/heif","image/heic","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp"];function a(a){a=d("UnicodeUtils").strlen(a);if(a<=c("MediaPollsConfig").MAX_CHAR_LEN_FOR_HEADLINE0_FONT)return c("TetraTextTypography").entityHeaderHeadline1;if(a<=c("MediaPollsConfig").MAX_CHAR_LEN_FOR_HEADLINE1_FONT)return c("TetraTextTypography").headlineEmphasized1;return a<=c("MediaPollsConfig").MAX_CHAR_LEN_FOR_HEADLINE2_FONT?c("TetraTextTypography").headlineEmphasized2:c("TetraTextTypography").headlineEmphasized3}function b(a){a=d("UnicodeUtils").strlen(a);if(a<=c("MediaPollsConfig").MAX_CHAR_LEN_FOR_HEADLINE0_FONT)return"entityHeader1";if(a<=c("MediaPollsConfig").MAX_CHAR_LEN_FOR_HEADLINE1_FONT)return 1;return a<=c("MediaPollsConfig").MAX_CHAR_LEN_FOR_HEADLINE2_FONT?2:3}g.MEDIA_POLL_NUM_COLUMNS=e;g.MEDIA_POLL_CREATION_INITIAL_ITEM_COUNT=f;g.MEDIA_POLL_CONSUMPTION_INITIAL_ITEM_COUNT=h;g.MEDIA_POLL_MAX_NUM_ITEMS=c("MediaPollsConfig").MAX_NUM_POLL_OPTIONS_SUPPORTED;g.MEDIA_POLL_SHOULD_FALLBACK=c("MediaPollsConfig").SHOULD_FALLBACK_TO_OLD_UI_WHEN_MANY_POLL_OPTIONS;g.MEDIA_POLL_COLUMN_WIDTH=i;g.MEDIA_POLL_COLUMN_MIN_WIDTH=j;g.MEDIA_POLL_COLUMN_MAX_WIDTH=k;g.MEDIA_POLL_COMPOSER_FONT_COLOR=l;g.MEDIA_POLL_COMPOSER_FONT_WEIGHT=m;g.POLL_INITIAL_ITEM_COUNT=n;g.POLL_MAX_OPTION_LENGTH=o;g.IMAGE_TYPES_SUPPORTED=p;g.calculateTetraTextStyle=a;g.calculateTetraTextHierarchyLevel=b}),98);
__d("GroupsCometPollEditorItems.react",["CometComposerMinutiaeBarLoading.react","CometFlexibleGrid.react","CometMediaPollOptionCard.react","CometPlaceholder.react","FeedComposerCometGlimmer.react","JSResourceForInteraction","lazyLoadComponent","pollConfig","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=c("lazyLoadComponent")(c("JSResourceForInteraction")("GroupsCometTextPollEditorItem.react").__setRef("GroupsCometPollEditorItems.react")),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("GroupsCometMediaPollEditorItem.react").__setRef("GroupsCometPollEditorItems.react")),l={fallback:{paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc"},grid:{marginTop:"kvgmc6g5",marginEnd:"o22cckgh",marginBottom:"oygrvhab",marginStart:"fop5sh7t"}};function m(a,b){return b.text!==""&&a.find(function(a){a=a.text;return a===b.text})!==b}function n(){return h.jsx(c("CometMediaPollOptionCard.react"),{children:h.jsx("div",{className:c("stylex")(l.fallback),children:h.jsx(c("FeedComposerCometGlimmer.react"),{responsive:!0})})})}n.displayName=n.name+" [from "+f.id+"]";function o(){return h.jsx("div",{className:c("stylex")(l.fallback),children:h.jsx(c("CometComposerMinutiaeBarLoading.react"),{})})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isEnhancedPoll,e=a.isMediaPoll,f=a.items,g=a.removeItem,p=a.updateItemAttachment,q=a.updateItemText;a=i(function(){return f.map(function(a,b){return{item:a,key:a.uid,position:b+1,removeItem:g,updateItemText:q}})},[f,g,q]);return!e?h.jsx(h.Fragment,{children:a.map(function(a){var d=a.key;a=babelHelpers.objectWithoutPropertiesLoose(a,["key"]);return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(o,{},d),children:h.jsx(j,babelHelpers["extends"]({},a,{isDuplicate:m(f,a.item),isEnhancedPoll:b}))},d)})}):h.jsx(c("CometFlexibleGrid.react"),{columnMaxWidth:d("pollConfig").MEDIA_POLL_COLUMN_WIDTH,columnMinWidth:d("pollConfig").MEDIA_POLL_COLUMN_WIDTH,minItems:f.length,xstyle:l.grid,children:a.map(function(a){var b=a.key;a=babelHelpers.objectWithoutPropertiesLoose(a,["key"]);return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(n,{},b),children:h.jsx(k,babelHelpers["extends"]({},a,{updateItemAttachment:p}))},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometPollEditor.react",["fbt","ix","CometDeferredPopoverTrigger.react","CometRow.react","CometRowItem.react","GroupsCometPollEditorItems.react","GroupsCometPollEditor_group.graphql","TetraButton.react","TetraIcon.react","TetraText.react","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");j!==void 0?j:j=b("GroupsCometPollEditor_group.graphql");var l=c("requireDeferred")("GroupsCometPollEditorSettingsMenu.react").__setRef("GroupsCometPollEditor.react");function a(a){var b=a.addEmptyItem,e=a.isMediaPoll,f=a.items,g=a.removeItem,j=a.settingsProps,m=a.updateItemAttachment;a=a.updateItemText;return k.jsxs("div",{className:"k4urcfbm dati1w0a ihqw7lf3 hv4rvrfc discj3wi",children:[k.jsx("div",{className:"sj5x9vvc",children:k.jsx(c("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized3",children:h._("Add Poll")})}),k.jsx(c("GroupsCometPollEditorItems.react"),{isEnhancedPoll:!1,isMediaPoll:e,items:f,removeItem:g,updateItemAttachment:m,updateItemText:a}),k.jsx("div",{className:"cxgpxx05",children:k.jsxs(c("CometRow.react"),{columns:2,paddingHorizontal:0,paddingTop:0,spacing:8,children:[k.jsx(c("CometRowItem.react"),{children:k.jsx(c("TetraButton.react"),{icon:d("fbicon")._(i("483768"),16),label:h._("Add option"),onPress:b,type:"secondary"})}),k.jsx(c("CometRowItem.react"),{children:k.jsx(c("CometDeferredPopoverTrigger.react"),{popoverProps:{settingsProps:j},popoverResource:l,popoverType:"menu",children:function(a,b){return k.jsx(c("TetraButton.react"),{addOnSecondary:k.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(i("481882"),16),size:16}),label:h._("Poll options"),onPress:b,ref:a,type:"secondary"})}})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometPollEditorSettingsMenu.react",["fbt","ix","CometMenu.react","CometMenuItemSelectable.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.settingsProps;var b=a.collaborationMode,d=a.selectionMode,e=a.setCollaborationMode,f=a.setSelectionMode,g=b==="PUBLIC",i=d==="MULTIPLE";return j.jsxs(c("CometMenu.react"),{size:"full",children:[j.jsx(c("CometMenuItemSelectable.react"),{aux:function(a){return j.jsx(k,{checked:i})},isSelected:i,onClick:function(){return f(i?"SINGLE":"MULTIPLE")},preventClosingMenuOnSelect:!0,primaryText:h._("Allow people to choose multiple answers"),role:"menuitemcheckbox"}),j.jsx(c("CometMenuItemSelectable.react"),{aux:function(a){return j.jsx(k,{checked:g})},isSelected:g,onClick:function(){return e(g?"PRIVATE":"PUBLIC")},preventClosingMenuOnSelect:!0,primaryText:h._("Allow anyone to add options"),role:"menuitemcheckbox"})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){a=a.checked;return a?j.jsx(c("TetraIcon.react"),{color:"highlight",icon:d("fbicon")._(i("531032"),24)}):j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("fbicon")._(i("659289"),24)})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PollsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("629");c=b("FalcoLoggerInternal").create("polls_event",a);e.exports=c}),null);
__d("useGroupsCometPollEditorActionLogger",["CometComposerViewStateContext","PollsEventFalcoEvent","getPlainTextFromDeferredDraftEditorState","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function j(a){return String(Number(a))}function k(a){return a==null?void 0:c("getPlainTextFromDeferredDraftEditorState")(a)}function l(a){if(a==null)return void 0;switch(a.selectionMode){case"SINGLE":return 1;case"MULTIPLE":return 2}}function a(){var a=i(c("CometComposerViewStateContext")),b=a.editorState,d=a.poll;return h(function(a){c("PollsEventFalcoEvent").log(function(){var c;return{action:a,action_time:Date.now(),num_poll_options:String((c=d==null?void 0:(c=d.items)==null?void 0:c.length)!=null?c:0),poll_id:d==null?void 0:d.id,poll_question_metadata:{allow_multi_select:j((d==null?void 0:d.selectionMode)==="MULTIPLE"),allow_user_option_add:j((d==null?void 0:d.collaborationMode)==="PUBLIC"),post_id:d==null?void 0:d.containerPostID,question_text:k(b)},poll_type:l(d)}})},[b,d])}g["default"]=a}),98);
__d("composerPollReducer",["Promise","cometUniqueID","pollConfig","useComposerViewStateDispatcher","useGroupsCometPollEditorActionLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b===void 0&&(b=!1);var c=b?"PRIVATE":a.collaborationMode,e=b?i(d("pollConfig").MEDIA_POLL_CREATION_INITIAL_ITEM_COUNT):a.items;return babelHelpers["extends"]({},a,{collaborationMode:c,items:e,viewerCanCreateMediaPoll:b})}function a(a){if(!a.viewerCanCreateMediaPoll)return!1;return a.collaborationMode!=="PRIVATE"?!1:a.items.length<=d("pollConfig").MEDIA_POLL_MAX_NUM_ITEMS}function e(a){return a.items.map(function(a){return a.attachment}).filter(Boolean).some(function(a){return!("entID"in a)})}function f(a,b){var c={collaborationMode:"PUBLIC",expirationTime:0,hiddenResult:!1,items:i(d("pollConfig").POLL_INITIAL_ITEM_COUNT),selectionMode:"MULTIPLE",viewerCanCreateMediaPoll:!1},e=a.poll==null?c:a.poll;switch(b.type){case"init_poll":return babelHelpers["extends"]({},a,{poll:h(c,b.viewerCanCreateMediaPoll)});case"add_empty_poll_item":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{items:e.items.concat(i(1))})});case"set_poll_selection_mode":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{selectionMode:b.pollSelectionMode})});case"set_poll_collaboration_mode":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{collaborationMode:b.pollCollaborationMode})});case"update_poll_item":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{items:e.items.map(function(a){return a.uid===b.pollItem.uid?b.pollItem:a})})});case"remove_poll_item":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{items:e.items.filter(function(a){return a.uid!==b.pollItem.uid})})});case"add_poll_expiration_time":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{expirationTime:b.expirationTime})});case"set_poll_hidden":return babelHelpers["extends"]({},a,{poll:babelHelpers["extends"]({},e,{hiddenResult:b.hiddenResult})});case"clear_poll":return babelHelpers["extends"]({},a,{poll:void 0});default:return a}}function i(a){var b=[];for(var d=0;d<a;d++)b.push({text:"",uid:c("cometUniqueID")()});return b}function j(){var a=c("useComposerViewStateDispatcher")(),d=c("useGroupsCometPollEditorActionLogger")();return{addEmptyPollItem:function(){a({type:"add_empty_poll_item"}),d("CLIENT_OPTION_ADDED")},addPollExpirationTime:function(b){a({expirationTime:b,type:"add_poll_expiration_time"})},clearPoll:function(){a({type:"clear_poll"});d("CLIENT_POLL_CREATION_SESSION_ABANDON");return b("Promise").resolve(!0)},initPoll:function(b){a({type:"init_poll",viewerCanCreateMediaPoll:b}),d("CLIENT_START_POLL_CREATION")},removePollItem:function(b){a({pollItem:b,type:"remove_poll_item"}),d("CLIENT_OPTION_DELETED")},setCollaborationMode:function(b){a({pollCollaborationMode:b,type:"set_poll_collaboration_mode"})},setPollHidden:function(b){a({hiddenResult:b,type:"set_poll_hidden"})},setSelectionMode:function(b){a({pollSelectionMode:b,type:"set_poll_selection_mode"})},updatePollItemAttachment:function(b,c){a({pollItem:babelHelpers["extends"]({},b,{attachment:c}),type:"update_poll_item"}),b.attachment!=null&&d("CLIENT_PHOTO_DELETED"),d("CLIENT_PHOTO_ADDED")},updatePollItemText:function(b,c){a({pollItem:babelHelpers["extends"]({},b,{text:c}),type:"update_poll_item"})}}}g.isMediaPoll=a;g.hasPendingAttachments=e;g.composerPollReducer=f;g.createPollItems=i;g.useComposerPollItemsHooks=j}),98);
__d("CometComposerQuiltSproutButton.react",["fbt","ix","CometComposerAttachmentPluginTypes","CometComposerSproutButton.react","react","useCometComposerPushQuiltsPage","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=c("useCometComposerPushQuiltsPage")();a=((a=a.attachmentArea)==null?void 0:a.activeAttachmentType)==="QUILT";return j.jsx(c("CometComposerSproutButton.react"),{activeColor:"var(--fds-spectrum-grape-tint-90)",disabledIcon:i("1673593"),icon:i("1601902"),isActive:a===!0,label:h._("Write a Prompt"),loggingName:"quilt_sprout",onClick:b,pluginName:c("CometComposerAttachmentPluginTypes").QUILT,sproutName:"QUILT",testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";b=c("withComposerViewStatePart")(a,function(a){return{attachmentArea:a.attachmentArea}});g["default"]=b}),98);
__d("GroupsCometComposerQuiltSprout.react",["CometComposerQuiltSproutButton.react","CometRelay","GroupsCometComposerQuiltSprout_sprout.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.sprout$key;d("CometRelay").useFragment(h!==void 0?h:h=b("GroupsCometComposerQuiltSprout_sprout.graphql"),a);return i.jsx(c("CometComposerQuiltSproutButton.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometComposerQuiltSprout.react",["CometComposerQuiltSproutButton.react","CometComposerQuiltSprout_sprout.graphql","CometRelay","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){a=a.sprout$key;d("CometRelay").useFragment(h!==void 0?h:h=b("CometComposerQuiltSprout_sprout.graphql"),a);return i.jsx(c("CometComposerQuiltSproutButton.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);