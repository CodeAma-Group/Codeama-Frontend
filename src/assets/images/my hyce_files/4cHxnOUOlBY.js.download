if (self.CavalryLogger) { CavalryLogger.start_js(["RR0jBRH"]); }

__d("PageCometAdminNotificationsRootQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"environment"},d={defaultValue:null,kind:"LocalArgument",name:"pageID"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f=[{kind:"Variable",name:"id",variableName:"pageID"}],g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"vanity",storageKey:null},j={kind:"Variable",name:"environment",variableName:"environment"},k=[j,{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET"]},{kind:"Literal",name:"source",value:"unknown"}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"PageCometAdminNotificationsRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"PagesCometNotificationsList_viewerConnection"},{args:null,kind:"FragmentSpread",name:"PagesCometNotificationsList_viewer"}],storageKey:null},{alias:null,args:f,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[g,h,{kind:"RequiredField",field:i,action:"THROW",path:"page.vanity"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,c,a,e],kind:"Operation",name:"PageCometAdminNotificationsRootQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:k,concreteType:"NotificationsConnection",kind:"LinkedField",name:"notifications",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDialogMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDialogRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},l],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[m,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[m],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[n,{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:[n],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"sort_keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eligible_buckets",storageKey:null},{alias:null,args:null,concreteType:"NotifBucketConfig",kind:"LinkedField",name:"bucket_config",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_seen",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_seen_time",storageKey:null},m],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:k,filters:[],handle:"connection",key:"PagesCometNotificationsList_notifications",kind:"LinkedHandle",name:"notifications"},{alias:null,args:[j],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[m,l,{kind:"TypeDiscriminator",abstractKey:"__isActor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null},{alias:null,args:f,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[g,h,i,l],storageKey:null}]},params:{id:"4419906651407413",metadata:{},name:"PageCometAdminNotificationsRootQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PagesCometNotificationsListPaginationQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{defaultValue:null,kind:"LocalArgument",name:"environment"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"environment",variableName:"environment"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET"]},{kind:"Literal",name:"source",value:"unknown"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PagesCometNotificationsListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"PagesCometNotificationsList_viewerConnection"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PagesCometNotificationsListPaginationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:c,concreteType:"NotificationsConnection",kind:"LinkedField",name:"notifications",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDialogMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDialogRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[e],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[f,{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:[f],storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"sort_keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eligible_buckets",storageKey:null},{alias:null,args:null,concreteType:"NotifBucketConfig",kind:"LinkedField",name:"bucket_config",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_seen",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_seen_time",storageKey:null},e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:[],handle:"connection",key:"PagesCometNotificationsList_notifications",kind:"LinkedHandle",name:"notifications"}],storageKey:null}]},params:{id:"4105564959559265",metadata:{},name:"PagesCometNotificationsListPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PagesCometNotificationsList_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"PagesCometNotificationsList_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_actor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("PagesCometNotificationsList_viewerConnection.graphql",["PagesCometNotificationsListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["notifications"];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"environment"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["viewer"],operation:b("PagesCometNotificationsListPaginationQuery.graphql")}},name:"PagesCometNotificationsList_viewerConnection",selections:[{alias:"notifications",args:null,concreteType:"NotificationsConnection",kind:"LinkedField",name:"__PagesCometNotificationsList_notifications_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_keys",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"eligible_buckets",storageKey:null},{alias:null,args:null,concreteType:"NotifBucketConfig",kind:"LinkedField",name:"bucket_config",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_seen",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_seen_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null}}();e.exports=a}),null);
__d("PagesCometNotificationsReceiveSubscription.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"environment"},d={defaultValue:null,kind:"LocalArgument",name:"input"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"thinClientEnabled"},g=[{kind:"Variable",name:"data",variableName:"input"}],h={kind:"Variable",name:"environment",variableName:"environment"},i={alias:null,args:[h],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null},k={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},l={alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"eligible_buckets",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"sort_keys",storageKey:null},o={alias:null,args:null,concreteType:"NotifBucketConfig",kind:"LinkedField",name:"bucket_config",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"bucket_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_read",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sec_to_evict_seen",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"first_read_time",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"first_seen_time",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"renderer_data",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"video_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bucket_data",storageKey:null}],type:"LiveVideoNotificationRendererData",abstractKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};h=[h,{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"notif_query_flags",value:["IS_COMET"]},{kind:"Literal",name:"source",value:"unknown"}];var u={alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},w={alias:null,args:[{kind:"Literal",name:"notif_option_set_context",value:{client_action_types:["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],environment:"MAIN_SURFACE",is_comet:!0,supported_display_styles:[{option_display_styles:["CHEVRON_MENU_OPTION"],option_set_display_style:"CHEVRON_MENU"}]}}],concreteType:"NotificationOptionSetsConnection",kind:"LinkedField",name:"notif_option_sets",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationOptionSetsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOptionSet",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsConnection",kind:"LinkedField",name:"notif_options",plural:!1,selections:[{alias:null,args:null,concreteType:"NotifOptionSetOptionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"NotifOption",kind:"LinkedField",name:"node",plural:!1,selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_option_renderer",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownHideMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionHideRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDefaultMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDefaultRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsDropdownMenu_notification",fragmentName:"CometNotificationsDropdownDialogMenuItem_notifOptionRenderer",fragmentPropName:"notifOptionRenderer",kind:"ModuleImport"}],type:"NotifOptionDialogRenderer",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:'notif_option_sets(notif_option_set_context:{"client_action_types":["HIDE","UNSUB","TOGGLE_ACTIVE","OPEN_IN_INSPECTOR","REPORT_BUG","OPEN_PCU_REMINDERS_DIALOG"],"environment":"MAIN_SURFACE","is_comet":true,"supported_display_styles":[{"option_display_styles":["CHEVRON_MENU_OPTION"],"option_set_display_style":"CHEVRON_MENU"}]})'},x={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[r,{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"},{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[r],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},z={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[y,{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},A={alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},B={alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},C={alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},D={alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null}],storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null};y={alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:[y],storageKey:null}],storageKey:null};var F={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"PagesCometNotificationsReceiveSubscription",selections:[{alias:null,args:g,concreteType:"CometPagesNotificationReceiveSubscribeResponsePayload",kind:"LinkedField",name:"comet_pages_notification_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometToastNotification_actor"}],storageKey:null},i,{args:null,kind:"FragmentSpread",name:"PagesCometNotificationsList_viewer"},{condition:"thinClientEnabled",kind:"Condition",passingValue:!0,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"}],kind:"FragmentSpread",name:"PagesCometNotificationsList_viewerConnection"}]},j],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notification",plural:!1,selections:[k],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[l,m,n,o,p,q,{args:null,kind:"FragmentSpread",name:"CometNotificationsListItem_notification"},s],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,f,a],kind:"Operation",name:"PagesCometNotificationsReceiveSubscription",selections:[{alias:null,args:g,concreteType:"CometPagesNotificationReceiveSubscribeResponsePayload",kind:"LinkedField",name:"comet_pages_notification_receive_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[r,{kind:"TypeDiscriminator",abstractKey:"__isActor"},t],storageKey:null},i,j,{condition:"thinClientEnabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:h,concreteType:"NotificationsConnection",kind:"LinkedField",name:"notifications",plural:!1,selections:[{alias:null,args:null,concreteType:"NotificationsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"node",plural:!1,selections:[t,u,v,l,w,x,z,A,B,C,D,E,y,F,n,m,o,p,q,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:h,filters:[],handle:"connection",key:"PagesCometNotificationsList_notifications",kind:"LinkedHandle",name:"notifications"}]}],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notification",plural:!1,selections:[k,t],storageKey:null},{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[l,m,n,o,p,q,t,u,v,w,x,z,A,B,C,D,E,y,F,s],storageKey:null}],storageKey:null}]},params:{id:"5981839121856047",metadata:{subscriptionName:"comet_pages_notification_receive_subscribe"},name:"PagesCometNotificationsReceiveSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("PageCometAdminNotificationsActionsButton.react",["fbt","ix","CometDeferredPopoverTrigger.react","TetraCircleButton.react","fbicon","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("requireDeferred")("PageCometAdminNotificationsActionsMenu.react").__setRef("PageCometAdminNotificationsActionsButton.react");function a(a){return j.jsx(c("CometDeferredPopoverTrigger.react"),{align:"end",popoverProps:{notificationsListRef:a.notificationsListRef},popoverResource:k,popoverType:"menu",position:"below",children:function(a,b,e,f,g,k){return j.jsx(c("TetraCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("484387"),20),label:h._("Page Notification Actions"),onHoverIn:f,onHoverOut:g,onPress:b,onPressIn:k,ref:a,size:24,type:"deemphasized"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PageCometAdminNotificationsActionsMenu.react",["fbt","ix","CometMenu.react","CometMenuItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.notificationsListRef;a=function(){b.current!=null&&b.current.markAllNotificationsAsRead!=null&&b.current.markAllNotificationsAsRead()};return j.jsx(c("CometMenu.react"),{withArrow:!0,children:j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("477820"),20),onClick:a,primaryText:h._("Mark All as Read")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PageCometAdminNotificationsEmptyView.react",["fbt","ix","CometContentArea.react","CometPressable.react","PageCometAdminNotificationsEmptyViewIllustration.react","TetraIcon.react","TetraText.react","fbicon","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.backlinkText;a=a.url;if(b==null||a==null){c("recoverableViolation")("backlinkText or url cannot be null","aymt");return null}return j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsxs("div",{className:"cbu4d94t j83agx80 bp9cbjyn",children:[j.jsx("div",{"aria-hidden":!0,className:"sej5wr8e",children:j.jsx(c("PageCometAdminNotificationsEmptyViewIllustration.react"),{})}),j.jsx("div",{className:"sej5wr8e",children:j.jsx(c("TetraText.react"),{color:"secondary",isSemanticHeading:!0,type:"bodyLink1",children:h._("Select a notification to open.")})}),j.jsx(c("CometPressable.react"),{display:"inline",linkProps:{url:a},overlayDisabled:!0,children:j.jsxs("div",{className:"j83agx80 bp9cbjyn",children:[j.jsx(c("TetraIcon.react"),{color:"blueLink",icon:d("fbicon")._(i("512647"),20),size:12}),j.jsx(c("TetraText.react"),{color:"blueLink",type:"body3",children:b})]})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("setupPagesNotificationsSubscription",["WebPixelRatio","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PagesCometNotificationsReceiveSubscription").__setRef("setupPagesNotificationsSubscription"),i=0,j=!1,k=null;function a(a,b){i++;var c=!1;function e(){i--,c||(i===0&&k!=null&&(k.dispose(),k=null,j=!1),c=!0)}if(j)return{dispose:e};j=!0;h.onReady(function(c){c=c.subscribeToNotificationUpdates;var f={count:15,environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE"},scale:d("WebPixelRatio").get(),thinClientEnabled:!1};(b==null?void 0:b.count)!=null&&(f.count=b.count);k=c(a,f,function(){e()},function(){e()})});return{dispose:e}}g["default"]=a}),98);
__d("PagesCometNotificationsList.react",["fbt","CometErrorBoundary.react","CometFocusTable.react","CometInfiniteScrollSuspenseList.react","CometListCellGlimmer.react","CometNoNotifications.react","CometNotificationsContext","CometNotificationsInteractionLogger","CometNotificationsInteractionLoggingContext","CometNotificationsListItem.react","CometNotificationsRenderLocations","CometNotificationsScrollHoldingContainer.react","CometOnRefresh.react","CometRelay","CometRouteMatch","HiddenSubtreeContext","PagesCometNotificationsList_viewer.graphql","PagesCometNotificationsList_viewerConnection.graphql","TetraUnit.react","TetraUnitHeader.react","XCometNotificationsControllerRouteBuilder","cr:508","cr:928","focusScopeQueries","orEmptyArray","react","recoverableViolation","requireDeferred","setupPagesNotificationsSubscription","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useImperativeHandle,p=e.useMemo,q=e.useRef,r=e.useState,s=e.useTransition,t=c("requireDeferred")("CometNotificationsRankingErrorFalcoEvent").__setRef("PagesCometNotificationsList.react"),u=c("requireDeferred")("NotifListBottomCollisionFalcoEvent").__setRef("PagesCometNotificationsList.react"),v=10;function w(a,b){c("recoverableViolation")("[CometNotificationsList] "+b+" suffered an uncaught error","comet_notifications",{error:a})}function a(a,e){var f,g=d("CometRelay").useRelayEnvironment(),y=s(),z=y[0],A=y[1],B=a.isFromPageNotification,C=a.onClose;y=d("CometRelay").usePaginationFragment(i!==void 0?i:i=b("PagesCometNotificationsList_viewerConnection.graphql"),a.viewerConnection);var D=y.data,E=y.hasNext,F=y.isLoadingNext,G=y.loadNext,H=y.refetch;y=d("CometRelay").useFragment(j!==void 0?j:j=b("PagesCometNotificationsList_viewer.graphql"),a.viewer);var I=y.actor,J=y.last_update_timestamp,K=y.notifications_unseen_count,L=p(function(){var a;return c("orEmptyArray")((a=D.notifications)==null?void 0:a.edges)},[(y=D.notifications)==null?void 0:y.edges]);y=I==null?void 0:I.id;f=(f=L[0])==null?void 0:(f=f.node)==null?void 0:f.id;var M=m(c("CometNotificationsContext")),N=M.renderLocation===d("CometNotificationsRenderLocations").RAIL,O=M.renderLocation===d("CometNotificationsRenderLocations").DROPDOWN?void 0:"self";M=d("CometRouteMatch").useCurrentRouteMatcher(d("CometRouteMatch").MatchFunctions.urlMatchFunction);var P=M(c("XCometNotificationsControllerRouteBuilder").buildURL({}).toString()),Q=q(new Set());o(e,function(){return{markAllNotificationsAsRead:function(){aa()}}});var R=q(L.length);n(function(){R.current=L.length},[L.length]);var S=m(d("CometNotificationsInteractionLoggingContext").CometNotificationsInteractionLoggingContext);n(function(){if(!z){var a=S.notifsLoadCompleteRef;a&&(a.current=!0);d("CometNotificationsInteractionLogger").success(R.current)}},[S,z,R]);M=l(function(){if(z)return;A(function(){H({},{fetchPolicy:"network-only"})})},[z,H,A]);d("CometOnRefresh.react").useOnRefresh(M);e=l(function(){if(F||!E)return;u.onReady(function(a){return a.log(function(){return{}})});G(v)},[F,E,G]);M=r(null);var T=M[0],U=M[1],V=m(c("HiddenSubtreeContext")).hiddenOrBackgrounded;M=c("useVisibilityObserver")({onHidden:function(){return U(!1)},onVisible:function(){return U(!0)}});var aa=b("cr:508")({accessibilityString:h._("All notifications were marked as read."),receivedNotificationIdsRef:Q,timestamp:J}),W=b("cr:928")({receivedNotificationIdsRef:Q,timestamp:J});n(function(){var a=!1;L.forEach(function(b){b=b.node;b&&b.id!=null&&Q.current.add(b.id);(b==null?void 0:b.seen_state)==="UNSEEN_AND_UNREAD"&&(a=!0)});var b=K!=null&&K>0;T===!0&&!V&&(b||a)&&W()},[L,W,V,T,K,Q]);n(function(){var a=c("setupPagesNotificationsSubscription")(g);return function(){a.dispose(),W.dispose()}},[g,W]);J=p(function(){var a=[],b=[];L.forEach(function(d,e){e=d.node;if(!e)return;d=e.eligible_buckets;var f=e.seen_state;if(f==="UNSEEN_AND_UNREAD"){a.push(e);return}f=null;var g=e==null?void 0:e.bucket_config;g&&(f=g.find(function(a){return a.bucket_type==="PRIORITY_INBOX"}));g=d.includes("PRIORITY_INBOX")&&x((g=f)==null?void 0:g.sec_to_evict_read,e==null?void 0:e.first_read_time)&&x((d=f)==null?void 0:d.sec_to_evict_seen,e==null?void 0:e.first_seen_time)&&a.length<15;if(g)a.push(e);else{f=k.jsx(c("CometErrorBoundary.react"),{onError:function(a){return w(a,"CometNotificationsListItem")},children:k.jsx(c("CometNotificationsListItem.react"),{actor:I,isFromPageNotification:B,notification:e,onClose:C,replace:N?!0:void 0,routeTarget:O})},e.id);b.push(f)}});a.sort(function(a,b){return parseInt(b==null?void 0:b.sort_keys[1],10)-parseInt(a==null?void 0:a.sort_keys[1],10)});return[a,b]},[I,L,B,N,O,C]);var X=J[0];J=J[1];var Y=X.length>0&&X[0].seen_state==="UNSEEN_AND_UNREAD";n(function(){if(!V&&K!=null&&K>0&&!Y){var a=new Map();X.forEach(function(b){var c=b==null?void 0:b.notif_id;b=b==null?void 0:b.seen_state;if(c==null||b==null)return;a.set(c,b)});t.onReady(function(b){b.log(function(){return{bucketed_notifs:Object.fromEntries(a),unseen_count:K}})})}},[Y,V,X,K]);var Z=X.map(function(b){return k.jsx(c("CometErrorBoundary.react"),{onError:function(a){return w(a,"CometNotificationsListItem")},children:k.jsx(c("CometNotificationsListItem.react"),{actor:I,isFromPageNotification:B,notification:b,onClose:a.onClose,replace:N&&!P?!0:void 0,routeTarget:P?"content":O})},b.id)}),$=[];Z.length===0?$.push(k.jsx(d("CometFocusTable.react").CometFocusTable,{allowModifiers:!0,label:h._("Notifications"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,children:J},"notifications-grid")):$.push(Z.length>0?k.jsx("div",{className:"sxpk6l6v",children:k.jsx(c("TetraUnit.react"),{header:k.jsx(c("TetraUnitHeader.react"),{headline:h._("New"),level:3}),testid:void 0,children:k.jsx(d("CometFocusTable.react").CometFocusTable,{allowModifiers:!0,label:h._("New Notifications"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,children:Z})})},"new"):null,J.length>0?k.jsx("div",{className:"sxpk6l6v",children:k.jsx(c("TetraUnit.react"),{header:k.jsx(c("TetraUnitHeader.react"),{headline:h._("Earlier"),level:3}),testid:void 0,children:k.jsx("div",{className:"aahdfvyu",children:k.jsx(d("CometFocusTable.react").CometFocusTable,{allowModifiers:!0,label:h._("Earlier Notifications"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,children:J})})})},"earlier_section"):null);return k.jsxs("div",{"data-testid":void 0,ref:M,children:[z&&k.jsx(c("CometListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:1}),L.length>0?k.jsx("div",{className:"tr9rh885",children:k.jsx(c("CometNotificationsScrollHoldingContainer.react"),{firstNotificationID:f,children:k.jsx(c("CometInfiniteScrollSuspenseList.react"),{hasMore:E,isLoading:F,listGlimmer:k.jsx(c("CometListCellGlimmer.react"),{imageSize:56,imageStyle:"circle",numberOfItems:2}),onLoadMore:e,children:$.filter(Boolean)})})}):k.jsx(c("CometNoNotifications.react"),{loggingSurface:"comet_pages",userId:y})]})}a.displayName=a.name+" [from "+f.id+"]";function x(a,b){if(a==null||b==null)return!0;var c=Date.now()/1e3;return a===-1||b===0?!0:c-b<a}e=k.forwardRef(a);g["default"]=e}),98);
__d("PagesPageNotificationMenuImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744159");c=b("FalcoLoggerInternal").create("pages_page_notification_menu_impression",a);e.exports=c}),null);
__d("PageCometAdminNotificationsRoot.react",["fbt","CometLeftRailAndMainContentContainer.react","CometLeftRailBreadcrumbs.react","CometLeftRailComponent.react","CometLeftRailHeader.react","CometPlaceholder.react","CometRelay","CometRouteParams","PageCometAdminNotificationsActionsButton.react","PageCometAdminNotificationsEmptyView.react","PageCometAdminNotificationsRootQuery.graphql","PagesCometNotificationsList.react","PagesCometPageContext.react","PagesLogger","PagesLoggerEventEnum","PagesPageNotificationMenuImpressionFalcoEvent","XCometPageVanityOverviewControllerRouteBuilder","react","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useEffect,l=e.useRef,m=i!==void 0?i:i=b("PageCometAdminNotificationsRootQuery.graphql");function n(a){var b=a.children;a=a.pageNotifRootQueryReference;var e=d("CometRouteParams").useRouteParams(),f=l(null);a=d("CometRelay").usePreloadedQuery(m,a);var g=a.page;if(g==null){c("recoverableViolation")("page cannot be null","aymt");return null}var i=g.name,k=g.url;if(g==null){c("recoverableViolation")("name or url cannot be null","aymt");return null}a=a==null?void 0:a.viewer;if(a==null)throw c("unrecoverableViolation")("viewer cannot be null when querying for notifications","aymt");var n=[k!=null?{label:h._("{page display name}",[h._param("page display name",i)]),url:k}:{label:h._("{page display name}",[h._param("page display name",i)])},{label:h._("Notifications")}];n=j.jsx(c("CometLeftRailComponent.react"),{header:j.jsx(c("CometLeftRailHeader.react"),{auxiliary:j.jsx(c("PageCometAdminNotificationsActionsButton.react"),{notificationsListRef:f}),meta:j.jsx(c("CometLeftRailBreadcrumbs.react"),{breadcrumbs:n}),title:h._("Notifications")}),primaryNav:j.jsx("div",{role:"table",children:j.jsx("div",{role:"rowgroup",children:j.jsx(c("PagesCometNotificationsList.react"),{isFromPageNotification:!0,ref:f,viewer:a,viewerConnection:a})})})});f=c("XCometPageVanityOverviewControllerRouteBuilder").buildUri({vanity:g.vanity});a=e.ref==="rich_updates"?h._("Back to Updates"):h._("Back to {page display name}",[h._param("page display name",i)]);g=e.ref==="rich_updates"?j.jsx(c("PageCometAdminNotificationsEmptyView.react"),{backlinkText:a,url:f.path}):j.jsx(c("PageCometAdminNotificationsEmptyView.react"),{backlinkText:a,url:k});b!=null&&(g=b);return j.jsx(c("CometLeftRailAndMainContentContainer.react"),{leftRailContent:n,leftRailHeading:h._("List of Page Notification"),mainContent:g,mainContentHeading:h._("Preview of a Page Notification")})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.props;a=a.queries;var e=b.routeProps.pageID;k(function(){d("PagesLogger").log(e,c("PagesLoggerEventEnum").IMPRESSION,"view_notifications_page",null,["business_ads_growth_communication_experiences"]),c("PagesPageNotificationMenuImpressionFalcoEvent").log(function(){return{event_data:{},event_location:"page__notification_tab",page_id:e}})});return j.jsx(d("PagesCometPageContext.react").PagesCometPageContextProvider,{pageID:e,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(n,{children:b.children,pageNotifRootQueryReference:a.pageNotifRootQueryReference})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesCometNotificationsReceiveSubscription",["CometRelay","CurrentUser","JSScheduler","PagesCometNotificationsReceiveSubscription.graphql","RelayRTIGraphQLSubscriptionTopicProvider","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("PagesCometNotificationsReceiveSubscription.graphql"),j={};function a(a,b,e,f){var g=d("relay-runtime").getRequest(i);g=g.params.id;g!==null&&!j[g]&&(j[g]=!0,c("RelayRTIGraphQLSubscriptionTopicProvider").registerProvider(g,function(a){return"gqls/comet_notification_receive_subscribe/actor_id_"+c("CurrentUser").getID()+"_environment_"+a.input.environment}));var h=function(a){var b=a.getRootField("comet_notification_receive_subscribe");if(b==null)return;b=b.getLinkedRecord("notification");if(b==null)return;var c=a.get(d("relay-runtime").VIEWER_ID);if(c==null)return;c.setLinkedRecord(b,"new_notification");c=d("relay-runtime").ConnectionHandler.getConnection(c,"PagesCometNotificationsList_notifications");if(c==null)return;d("relay-runtime").ConnectionHandler.deleteNode(c,b.getDataID());a=d("relay-runtime").ConnectionHandler.createEdge(a,c,b,"NotificationsEdge");a.setValue(null,"cursor");d("relay-runtime").ConnectionHandler.insertEdgeBefore(c,a)},k=null,l=!1;d("JSScheduler").scheduleSpeculativeCallback(function(){l||(k=d("CometRelay").requestSubscription(a,{onCompleted:e,onError:f,subscription:i,updater:h,variables:b}))});return{dispose:function(){k!=null&&(k.dispose(),k=null),l=!0}}}g.PagesNotificationsReceiveSubscription=i;g.subscribeToNotificationUpdates=a}),98);